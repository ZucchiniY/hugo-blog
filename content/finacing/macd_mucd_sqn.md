---
title: "macd 策略"
author: ["夏南瓜"]
date: 2023-12-11T00:00:00+08:00
lastmod: 2023-12-11T15:14:50+08:00
series: ["量化"]
tags: ["MUCD", "MACD", "SQN"]
categories: ["量化"]
draft: false
---

## 三种策略 {#三种策略}

MACD 作为最常用的一种技术指标，有非常多的说明和用法，最近将关于 MACD 指标的用法做了一下整理。最主要的方法就是金叉死叉的说法。

整理之后，一共有三种方法，目前对前两种进行了代码的回测，第三种暂还未实现。


### macd.macd 策略 {#macd-dot-macd-策略}

-   macd.macd 连续上涨三天，开多
-   macd.macd 小于前一天，平多

| 夏普率 | SQN    | 收益率 |
|-----|--------|-----|
| -0.137 | -0.375 | -0.24 |


### 利用MACD快(DIF)慢(DEA)线的金叉死叉， {#利用macd快--dif--慢--dea--线的金叉死叉}

-   当证券价格突破过去N次金/死叉记录的“最高/低价±0.5倍ATR”时，开仓
-   若持有多头仓位，当证券价格回落至M根K线最低点平仓；

| 夏普率 | SQN   | 收益率 |
|-----|-------|-----|
| 0.546 | 1.877 | 0.834 |


### 快买慢卖 MACD {#快买慢卖-macd}

S
: 6,19,9

M
: 12,26,9

L
: 19,39,9


SMA50 走平或上涨 市场有利

S / M 金叉买入， L 死叉卖出

| 组合 | 夏普率 | SQN   | 收益率 |
|----|-----|-------|-----|
| S/L | 0.190 | 0.499 | 0.267 |
| S/M | 0.450 | 1.244 | 0.570 |
| M/L | 0.141 | 0.592 | 0.192 |


## MACD 与 RUMI {#macd-与-rumi}

从公式来看 MACD 和 RUMI 策略其实是相同的策略原理——快慢线组合策略。

之前在优化 RUMI 策略的时候，使用斜率替代了原来的差值的方案，现在将 MACD 做两样的调整。

实现 MUCD 策略。

MACD 使用快慢线的差值作为第三组 EMA 线的数据，现在将差值修改为斜率再测试一下。

| 策略       | 夏普率 | SQN   | 收益率 |
|----------|-----|-------|-----|
| MUCD       | 0.538 | 1.533 | 0.634 |
| RUMI       | 0.900 | 2.594 | 1.051 |
| MUCD(MACD) | 0.425 | 0.945 | 0.55  |

虽然提高了 MACD 本身的逻辑，但是却比 RUMI 策略要差许多。

这里 RUMI 的参数为 （5，66，22，22），也许使用 MACD 的参数能获取更好的效率。

参数调整为（11，22，6，6），效果更差了。

看来还是 RUMI 原始策略更好一些。
